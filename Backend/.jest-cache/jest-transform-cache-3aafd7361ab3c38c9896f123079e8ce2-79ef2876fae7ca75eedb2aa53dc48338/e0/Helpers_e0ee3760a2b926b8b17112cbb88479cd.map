{"file":"C:\\Users\\naceu\\OneDrive\\Desktop\\Studium\\5 Semester\\Projekt\\connectandexplore\\Backend\\src\\utils\\Helpers.ts","mappings":";;;AAEA,yDAA2D;AAE3D,MAAM,iBAAiB,GAAG,CAAC,KAAa,EAAE,UAAe,EAAE,EAAE;IAC3D,OAAO,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;QACzD,gEAAgE;QAChE,4BAA4B;QAC5B,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,SAAS,EAAE,CAAC;YAClC,OAAO,UAAU,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QACpC,CAAC;QACD,uDAAuD;QACvD,OAAO,IAAI,EAAE,CAAC;IAChB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,wBAAwB;AACX,QAAA,QAAQ,GAAG;IACtB,iBAAiB,CAAC,OAAO,EAAE,IAAA,wBAAI,EAAC,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;IACnD,iBAAiB,CAAC,YAAY,EAAE,IAAA,wBAAI,EAAC,YAAY,CAAC,CAAC,QAAQ,EAAE,CAAC;IAC9D,iBAAiB,CAAC,WAAW,EAAE,IAAA,wBAAI,EAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;IAC5D,iBAAiB,CAAC,UAAU,EAAE,IAAA,wBAAI,EAAC,UAAU,CAAC,CAAC,gBAAgB,EAAE,CAAC;IAClE,iBAAiB,CAAC,iBAAiB,EAAE,IAAA,wBAAI,EAAC,iBAAiB,CAAC,CAAC,SAAS,EAAE,CAAC;IAEzE,2EAA2E;IAC3E,iBAAiB,CAAC,gBAAgB,EAAE,IAAA,wBAAI,EAAC,gBAAgB,CAAC,CAAC,QAAQ,EAAE,CAAC;IACtE,iBAAiB,CACf,qBAAqB,EACrB,IAAA,wBAAI,EAAC,qBAAqB,CAAC;SACxB,SAAS,EAAE;SACX,WAAW,CAAC,0BAA0B,CAAC,CAC3C;IACD,iBAAiB,CACf,oBAAoB,EACpB,IAAA,wBAAI,EAAC,oBAAoB,CAAC;SACvB,SAAS,EAAE;SACX,WAAW,CAAC,0BAA0B,CAAC,CAC3C;IACD,iBAAiB,CACf,cAAc,EACd,IAAA,wBAAI,EAAC,cAAc,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,mBAAmB,CAAC,CACjE;IACD,iBAAiB,CACf,iBAAiB,EACjB,IAAA,wBAAI,EAAC,iBAAiB,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,sBAAsB,CAAC,CACvE;IACD,iBAAiB,CACf,uBAAuB,EACvB,IAAA,wBAAI,EAAC,uBAAuB,CAAC;SAC1B,QAAQ,EAAE;SACV,WAAW,CAAC,0BAA0B,CAAC,CAC3C;IACD,iBAAiB,CACf,0BAA0B,EAC1B,IAAA,wBAAI,EAAC,0BAA0B,CAAC;SAC7B,QAAQ,EAAE;SACV,WAAW,CAAC,2BAA2B,CAAC,CAC5C;IACD,iBAAiB,CAAC,gBAAgB,EAAE,IAAA,wBAAI,EAAC,gBAAgB,CAAC,CAAC,QAAQ,EAAE,CAAC;IACtE,iBAAiB,CAAC,WAAW,EAAE,IAAA,wBAAI,EAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;IAC5D,iBAAiB,CAAC,QAAQ,EAAE,IAAA,wBAAI,EAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC;IACtD,iBAAiB,CACf,0BAA0B,EAC1B,IAAA,wBAAI,EAAC,0BAA0B,CAAC,CAAC,QAAQ,EAAE,CAC5C;IACD,iBAAiB,CACf,4BAA4B,EAC5B,IAAA,wBAAI,EAAC,2BAA2B,CAAC,CAAC,QAAQ,EAAE,CAC7C;CACF,CAAC","names":[],"sources":["C:\\Users\\naceu\\OneDrive\\Desktop\\Studium\\5 Semester\\Projekt\\connectandexplore\\Backend\\src\\utils\\Helpers.ts"],"sourcesContent":["import { IUser } from \"../model/UserModel\";\r\nimport { Request, Response, NextFunction } from \"express\";\r\nimport { validationResult, body } from \"express-validator\";\r\n\r\nconst validateIfPresent = (field: string, validators: any) => {\r\n  return (req: Request, res: Response, next: NextFunction) => {\r\n    // Check if the field exists in the request body and has a value\r\n    // && req.body[field] !== \"\"\r\n    if (req.body[field] !== undefined) {\r\n      return validators(req, res, next);\r\n    }\r\n    // If the field is absent or empty, skip the validation\r\n    return next();\r\n  };\r\n};\r\n\r\n// Validation middleware\r\nexport const validate = [\r\n  validateIfPresent(\"email\", body(\"email\").isEmail()),\r\n  validateIfPresent(\"name.first\", body(\"name.first\").isString()),\r\n  validateIfPresent(\"name.last\", body(\"name.last\").isString()),\r\n  validateIfPresent(\"password\", body(\"password\").isStrongPassword()),\r\n  validateIfPresent(\"isAdministrator\", body(\"isAdministrator\").isBoolean()),\r\n\r\n  //validateIfPresent(\"oldPassword\", body(\"oldPassword\").isStrongPassword()),\r\n  validateIfPresent(\"address.street\", body(\"address.street\").isString()),\r\n  validateIfPresent(\r\n    \"address.houseNumber\",\r\n    body(\"address.houseNumber\")\r\n      .isNumeric()\r\n      .withMessage(\"houseNumber is required.\")\r\n  ),\r\n  validateIfPresent(\r\n    \"address.postalCode\",\r\n    body(\"address.postalCode\")\r\n      .isNumeric()\r\n      .withMessage(\"Postal code is required.\")\r\n  ),\r\n  validateIfPresent(\r\n    \"address.city\",\r\n    body(\"address.city\").isString().withMessage(\"City is required.\")\r\n  ),\r\n  validateIfPresent(\r\n    \"address.country\",\r\n    body(\"address.country\").isString().withMessage(\"Country is required.\")\r\n  ),\r\n  validateIfPresent(\r\n    \"address.stateOrRegion\",\r\n    body(\"address.stateOrRegion\")\r\n      .isString()\r\n      .withMessage(\"invalid State or Region.\"),\r\n  ),\r\n  validateIfPresent(\r\n    \"address.appartmentNumber\",\r\n    body(\"address.appartmentNumber\")\r\n      .isString()\r\n      .withMessage(\"invalid Appartmentnumber.\"),\r\n  ),\r\n  validateIfPresent(\"profilePicture\", body(\"profilePicture\").isString()),\r\n  validateIfPresent(\"birthDate\", body(\"birthDate\").isString()),\r\n  validateIfPresent(\"gender\", body(\"gender\").isString()),\r\n  validateIfPresent(\r\n    \"socialMediaUrls.facebook\",\r\n    body(\"socialMediaUrls.facebook\").isString(),\r\n  ),\r\n  validateIfPresent(\r\n    'socialMediaUrls.instagram\"',\r\n    body(\"socialMediaUrls.instagram\").isString(),\r\n  ),\r\n];\r\n"],"version":3}